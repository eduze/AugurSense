<div class="row container-fluid">

  <div class="col-md-6 col-sm-9 col-xs-12" *ngIf="globalMap">
    <div class="box box-solid box-primary">
      <div class="box-body">
        <svg x="0" y="0" [attr.width]="globalMap.width" [attr.height]="globalMap.height" class="center-block">
          <g height="100%" width="100%">
            <image [attr.xlink:href]="globalMap.image" x="0" y="0" (click)="zoneClicked(null)"></image>
            <g *ngFor="let z of zones; let i = index">
              <polygon class="zone" [attr.points]="z.polygon" (click)="zoneClicked(z)"
                       [class.zone-selected]="z==zone"></polygon>

              <text [attr.x]="z.midX" [attr.y]="z.midY-30" fill="yellow" font-size="15" text-anchor="middle">
                {{ z.zoneName }}
              </text>
            </g>
          </g>
        </svg>
      </div>
    </div>
    <div class="box-footer">
      <button class="btn btn-primary" data-toggle="modal" data-target="#modal-default">Add Zone</button>
    </div>
  </div>

  <div class="col-md-6 col-sm-3 col-xs-12">
    <app-zones-config-info [zone]="zone" *ngIf="zone"></app-zones-config-info>
  </div>

  <div class="modal fade" id="modal-default">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Add Zone</h4>
        </div>
        <div class="modal-body">
          <app-zone-ui [zones]="zones" [globalMap]="globalMap"></app-zone-ui>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

</div>
